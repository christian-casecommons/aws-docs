<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Infrastructure Accelerator Tutorial</title>
    <meta name="generator" content="Hugo 0.19" />

    
    <meta name="description" content="Infrastructure Accelerator Tutorial">
    
    <link rel="canonical" href="https://casecommons.github.io/aws-docs/">
    
    <meta name="author" content="Justin Menga">
    

    <meta property="og:url" content="https://casecommons.github.io/aws-docs/">
    <meta property="og:title" content="Infrastructure Accelerator Tutorial">
    <meta property="og:image" content="https://casecommons.github.io/aws-docs/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Infrastructure Accelerator Tutorial">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://casecommons.github.io/aws-docs/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://casecommons.github.io/aws-docs/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://casecommons.github.io/aws-docs/fonts/icon.eot');
        src: url('https://casecommons.github.io/aws-docs/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://casecommons.github.io/aws-docs/fonts/icon.woff')
               format('woff'),
             url('https://casecommons.github.io/aws-docs/fonts/icon.ttf')
               format('truetype'),
             url('https://casecommons.github.io/aws-docs/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://casecommons.github.io/aws-docs/stylesheets/application.css">
    <link rel="stylesheet" href="https://casecommons.github.io/aws-docs/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://casecommons.github.io/aws-docs/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://casecommons.github.io/aws-docs/stylesheets/highlight/highlight.css">
    <link rel="stylesheet" href="https://casecommons.github.io/aws-docs/stylesheets/overrides.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://casecommons.github.io/aws-docs/javascripts/modernizr.js"></script>

    
    <link href="https://casecommons.github.io/aws-docs/index.xml" rel="alternate" type="application/rss+xml" title="Infrastructure Accelerator Tutorial" />
    <link href="https://casecommons.github.io/aws-docs/index.xml" rel="feed" type="application/rss+xml" title="Infrastructure Accelerator Tutorial" />
    

  </head>
  <body class="palette-primary-red palette-accent-teal">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Infrastructure Accelerator Tutorial
      </div>
    </div>

    
    <div class="button button-twitter" role="button" aria-label="Twitter">
       <a href="https://twitter.com/jmenga" title="@jmenga on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
    </div>
    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/mixja" title="@mixja on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://casecommons.github.io/aws-docs/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://casecommons.github.io/aws-docs/images/logo.png">
        </div>
      
      <div class="name">
        <strong>Infrastructure Accelerator Tutorial <span class="version">v0.2</span></strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Local Setup" href="https://casecommons.github.io/aws-docs/local-setup/">
	
	Local Setup
</a>



  
</li>



<li>
  
    



<a  title="Security Resources" href="https://casecommons.github.io/aws-docs/security-resources/">
	
	Security Resources
</a>



  
</li>



<li>
  
    



<a  title="CloudFormation Resources" href="https://casecommons.github.io/aws-docs/cloudformation-resources/">
	
	CloudFormation Resources
</a>



  
</li>



<li>
  
    



<a  title="Network Resources" href="https://casecommons.github.io/aws-docs/network-resources/">
	
	Network Resources
</a>



  
</li>



<li>
  
    



<a  title="EC2 Container Registry Resources" href="https://casecommons.github.io/aws-docs/ecr-resources/">
	
	EC2 Container Registry Resources
</a>



  
</li>



<li>
  
    



<a  title="Web Proxy Stack" href="https://casecommons.github.io/aws-docs/web-proxy/">
	
	Web Proxy Stack
</a>



  
</li>



<li>
  
    



<a  title="Intake API Stack" href="https://casecommons.github.io/aws-docs/intake-api/">
	
	Intake API Stack
</a>



  
</li>



<li>
  
    



<a  title="Intake Accelerator Stack" href="https://casecommons.github.io/aws-docs/intake-accelerator/">
	
	Intake Accelerator Stack
</a>



  
</li>



<li>
  
    



<a  title="Introduction" href="https://casecommons.github.io/aws-docs/">
	
	Introduction
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          
          <li>
            <a href="https://twitter.com/jmenga" target="_blank" title="@jmenga on Twitter">
              @jmenga on Twitter
            </a>
          </li>
          

          
          <li>
            <a href="https://github.com/mixja" target="_blank" title="@mixja on GitHub">
              @mixja on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:justin.menga@gmail.com" title="Email of justin.menga@gmail.com">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			
				<h1>Infrastructure Accelerator Tutorial </h1>

				

<h2 id="introduction">Introduction</h2>

<p>This tutorial provides a walkthrough of the Case Commons Infrastructure
Accelerator.   It provide a reusable, open source AWS CloudFormation deployment
framework for provisioning cloud infrastructure and deploying application stacks
to it.</p>

<p>The Infrastructure Accelerator is based on a modern Infrastructure as Code
design pattern, using Ansible as an automation framework to provision all of the
AWS resources needed for one or more application stacks.    It assumes that
application images are packaged using Docker.</p>

<p>This tutorial was initially developed for Case Commons in support of the
California Child Welfare Digital Services Intake project.   The  Intake
Accelerator and Intake API stacks can be used as examples of how to set up your
application stack.
You will create a completely fresh account topology, implementing two AWS accounts:</p>

<ul>
<li><p><strong>Users Account</strong> - a central users account where all user accounts and credentials are located.  Users must authenticate to this account and assume a role in a given resource account to manage resources in the target resource account.  In this tutorial the users account is called <strong>demo-users</strong> and has an account ID of <strong>094411466117</strong>.</p></li>

<li><p><strong>Resource Account</strong> - account where AWS resources for one or more applications will be created.  The deployment framework can support multiple resource accounts based upon the needs of your organization and product teams.  In this tutorial the resources account is called <strong>demo-resources</strong> and has an account ID of <strong>160775127577</strong>.</p></li>
</ul>

<p>In this tutorial you will be configuring a number of AWS resources:</p>

<ul>
<li><a href="https://casecommons.github.io/aws-docs/security-resources/">Security Resources</a></li>
<li><a href="https://casecommons.github.io/aws-docs/cloudformation-resources/">CloudFormation Resources</a></li>
<li><a href="https://casecommons.github.io/aws-docs/network-resources/">Network Resources</a></li>
<li><a href="https://casecommons.github.io/aws-docs/ecr-resources/">EC2 Container Registry (ECR) Resources</a></li>
<li><a href="https://casecommons.github.io/aws-docs/web-proxy/">Web Proxy</a></li>
<li><a href="https://casecommons.github.io/aws-docs/intake-api/">Intake API Application</a></li>
<li><a href="https://casecommons.github.io/aws-docs/intake-accelerator/">Intake Accelerator Application</a></li>
</ul>

<p>Each of the above consists of the following:</p>

<ul>
<li>Ansible playbook</li>
<li>CloudFormation template that defines all AWS resources</li>
<li>One or more environments, each environment ultimately implemented as a CloudFormation stack</li>
<li>Git repository</li>
</ul>

<h2 id="prerequisites">Prerequisites</h2>

<p>This tutorial assumes you are starting from two empty AWS accounts and have access to the root account for each.</p>

<p>You will also need to ensure your <a href="https://casecommons.github.io/aws-docs/local-setup/">local machine</a> is setup correctly.</p>

<h2 id="cloning-the-starter-repository">Cloning the Starter Repository</h2>

<p>Although each of the playbooks described in the <a href="#introduction">Introduction</a> are already defined as existing Git repositories, it is useful to understand how to create a playbook from scratch that implements the AWS deployment framework and methodology described in this tutorial.</p>

<p>A starter repository is published at <a href="https://github.com/casecommons/aws-starter.git">https://github.com/casecommons/aws-starter.git</a>, which you can use to clone a new repository, and follow the instructions in the <a href="https://github.com/casecommons/aws-starter/README.md">README</a> to setup your playbook correctly.</p>

<h2 id="demo-playbooks">Demo Playbooks</h2>

<p>Examples of the playbooks that are created in this tutorial are located in the <a href="https://github.com/casecommons/aws-docs/tree/master/playbooks">playbooks</a> folder of the repository that hosts this documentation.</p>

			

			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the AGPL license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				



<nav class="pagination" aria-label="Footer">
  <div class="previous">
  </div>

  
  
  <div class="next">
      <a href="https://casecommons.github.io/aws-docs/security-resources/" title="Security Resources">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Security Resources
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  </div>
</nav>



			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://casecommons.github.io/aws-docs/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

